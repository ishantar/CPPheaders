#include <stdio.h>

#define CPPARITH_TWICE    /* #if defined then redundant defines are defined. */
#include "cpparith_256.h"

/* custom seq adapter. generates "inner loop" seq(s) for each generated outer
 * element.  here, the "adapter function" optional parameter is provided with
 * simple text; this simply results in insertion of the tokens. (a macro call
 * need not result)
 *
 * note: ascii hex digit characters have ranges 48..57/97..102
 */

#define hexseq_i(n) ARITH2_SEQ(48,57,(n<<8)+) , ARITH2_SEQ(97,102,(n<<8)+)


/* "outer loop" seq invocation. each element generated is passed to the macro-name
 * provided as optional parameter. (when unspecified, the default expands to its
 * argument)
 * in this case, the adapter function given will call seq again. to accomplish
 * parameterized nesting, redundantly-defined macro definitions may be neccessary;
 * optional redundancy is available when specified.
 */

short tbl[256] = { ARITH_SEQ(48,57,hexseq_i) , ARITH_SEQ(97,102,hexseq_i) };


/***
 * modulo whitespace, the following declaration is equivalent:
 *
 *  short tbl[256] = {
 *    (48<<8)+(48) , (48<<8)+(49) , (48<<8)+(50) , (48<<8)+(51) ,
 *    (48<<8)+(52) , (48<<8)+(53) , (48<<8)+(54) , (48<<8)+(55) ,
 *    (48<<8)+(56) , (48<<8)+(57) , (48<<8)+(97) , (48<<8)+(98) ,
 *    (48<<8)+(99) , (48<<8)+(100), (48<<8)+(101), (48<<8)+(102),
 *
 *    (49<<8)+(48) , (49<<8)+(49) , (49<<8)+(50) , (49<<8)+(51) ,
 *    (49<<8)+(52) , (49<<8)+(53) , (49<<8)+(54) , (49<<8)+(55) ,
 *    (49<<8)+(56) , (49<<8)+(57) , (49<<8)+(97) , (49<<8)+(98) ,
 *    (49<<8)+(99) , (49<<8)+(100), (49<<8)+(101), (49<<8)+(102),
 *
 *    (50<<8)+(48) , (50<<8)+(49) , (50<<8)+(50) , (50<<8)+(51) ,
 *    (50<<8)+(52) , (50<<8)+(53) , (50<<8)+(54) , (50<<8)+(55) ,
 *    (50<<8)+(56) , (50<<8)+(57) , (50<<8)+(97) , (50<<8)+(98) ,
 *    (50<<8)+(99) , (50<<8)+(100), (50<<8)+(101), (50<<8)+(102),
 *
 *    (51<<8)+(48) , (51<<8)+(49) , (51<<8)+(50) , (51<<8)+(51) ,
 *    (51<<8)+(52) , (51<<8)+(53) , (51<<8)+(54) , (51<<8)+(55) ,
 *    (51<<8)+(56) , (51<<8)+(57) , (51<<8)+(97) , (51<<8)+(98) ,
 *    (51<<8)+(99) , (51<<8)+(100), (51<<8)+(101), (51<<8)+(102),
 *
 *    (52<<8)+(48) , (52<<8)+(49) , (52<<8)+(50) , (52<<8)+(51) ,
 *    (52<<8)+(52) , (52<<8)+(53) , (52<<8)+(54) , (52<<8)+(55) ,
 *    (52<<8)+(56) , (52<<8)+(57) , (52<<8)+(97) , (52<<8)+(98) ,
 *    (52<<8)+(99) , (52<<8)+(100), (52<<8)+(101), (52<<8)+(102),
 *
 *    (53<<8)+(48) , (53<<8)+(49) , (53<<8)+(50) , (53<<8)+(51) ,
 *    (53<<8)+(52) , (53<<8)+(53) , (53<<8)+(54) , (53<<8)+(55) ,
 *    (53<<8)+(56) , (53<<8)+(57) , (53<<8)+(97) , (53<<8)+(98) ,
 *    (53<<8)+(99) , (53<<8)+(100), (53<<8)+(101), (53<<8)+(102),
 *
 *    (54<<8)+(48) , (54<<8)+(49) , (54<<8)+(50) , (54<<8)+(51) ,
 *    (54<<8)+(52) , (54<<8)+(53) , (54<<8)+(54) , (54<<8)+(55) ,
 *    (54<<8)+(56) , (54<<8)+(57) , (54<<8)+(97) , (54<<8)+(98) ,
 *    (54<<8)+(99) , (54<<8)+(100), (54<<8)+(101), (54<<8)+(102),
 *
 *    (55<<8)+(48) , (55<<8)+(49) , (55<<8)+(50) , (55<<8)+(51) ,
 *    (55<<8)+(52) , (55<<8)+(53) , (55<<8)+(54) , (55<<8)+(55) ,
 *    (55<<8)+(56) , (55<<8)+(57) , (55<<8)+(97) , (55<<8)+(98) ,
 *    (55<<8)+(99) , (55<<8)+(100), (55<<8)+(101), (55<<8)+(102),
 *
 *    (56<<8)+(48) , (56<<8)+(49) , (56<<8)+(50) , (56<<8)+(51) ,
 *    (56<<8)+(52) , (56<<8)+(53) , (56<<8)+(54) , (56<<8)+(55) ,
 *    (56<<8)+(56) , (56<<8)+(57) , (56<<8)+(97) , (56<<8)+(98) ,
 *    (56<<8)+(99) , (56<<8)+(100), (56<<8)+(101), (56<<8)+(102),
 *
 *    (57<<8)+(48) , (57<<8)+(49) , (57<<8)+(50) , (57<<8)+(51) ,
 *    (57<<8)+(52) , (57<<8)+(53) , (57<<8)+(54) , (57<<8)+(55) ,
 *    (57<<8)+(56) , (57<<8)+(57) , (57<<8)+(97) , (57<<8)+(98) ,
 *    (57<<8)+(99) , (57<<8)+(100), (57<<8)+(101), (57<<8)+(102),
 *  };
 */


int main( int argc, char **argv )
 {
   for( int i = 0; i < 256; i++ )
     printf( "%3d:  0x%04hx %c%c \n", i, tbl[i],
             ((char*)tbl)[2*i+1], (char)tbl[i] );

   return 0;
 }



